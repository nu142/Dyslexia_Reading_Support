<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dyslexia Screening Quiz</title>
  <link href="https://fonts.googleapis.com/css2?family=Open+Dyslexic&display=swap" rel="stylesheet">
  <script>
  let speechSynthesisUtterance;

  function speak(text) {
    // Stop any previous speech
    stopSpeaking();

    speechSynthesisUtterance = new SpeechSynthesisUtterance(text);
    window.speechSynthesis.speak(speechSynthesisUtterance);
  }

  function stopSpeaking() {
    if (speechSynthesisUtterance) {
      window.speechSynthesis.cancel(); // stop any ongoing speech
      speechSynthesisUtterance = null;
    }
  }

  function scrollToNext(currentDiv) {
    stopSpeaking(); // stop audio when answer is selected

    const allQuestions = document.querySelectorAll('.question');
    const index = Array.from(allQuestions).indexOf(currentDiv);
    if (index !== -1 && index + 1 < allQuestions.length) {
      allQuestions[index + 1].scrollIntoView({ behavior: 'smooth' });
    }
  }
</script>



  <style>

    body {
      font-family: 'Open Dyslexic', Arial, sans-serif;
      background-color: #f4f4f9;
      color: #222;
      padding: 40px;
      max-width: 800px;
      margin: auto;
      line-height: 1.8;
    }

    h1 {
      text-align: center;
      color: #3a3a8c;
    }

    .question {
      margin-bottom: 25px;
      padding: 20px;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }

    .question h3 {
      margin-top: 0;
    }

    label {
      display: block;
      margin: 8px 0;
    }

    button {
      background-color: #3a3a8c;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      display: block;
      margin: 30px auto;
    }

    button:hover {
      background-color: #2b2b6e;
    }
   
  .speaker {
    cursor: pointer;
    font-size: 1.2em;
    margin-left: 8px;
    color: #3a3a8c;
  }

  .speaker:hover {
    color: #2b2b6e;
  }


  
  </style>
</head>
<body>

  <h1>Dyslexia Screening Quiz</h1>
  <form id="quizForm">

<!-- Q1 -->
<div class="question" id="q1-div">
  <h3>
    1. Do you often lose your place while reading or need to re-read lines?
    <span class="speaker" onclick="speak('Do you often lose your place while reading or need to re-read lines? Option 1 Never, Option 2 Sometimes, Option 3 Often, Option 4 Always')">ðŸ”Š</span>
  </h3>
  <label><input type="radio" name="q1" value="1" onclick="scrollToNext(this.closest('.question'))"> Never</label>
  <label><input type="radio" name="q1" value="2" onclick="scrollToNext(this.closest('.question'))"> Sometimes</label>
  <label><input type="radio" name="q1" value="3" onclick="scrollToNext(this.closest('.question'))"> Often</label>
  <label><input type="radio" name="q1" value="4" onclick="scrollToNext(this.closest('.question'))"> Always</label>
</div>

<!-- Q2 -->
<div class="question" id="q2-div">
  <h3>
    2. Do you find it difficult to sound out unfamiliar words?
    <span class="speaker" onclick="speak('Do you find it difficult to sound out unfamiliar words? Option 1 Never, Option 2 Sometimes, Option 3 Often, Option 4 Always')">ðŸ”Š</span>
  </h3>
  <label><input type="radio" name="q2" value="1" onclick="scrollToNext(this.closest('.question'))"> Never</label>
  <label><input type="radio" name="q2" value="2" onclick="scrollToNext(this.closest('.question'))"> Sometimes</label>
  <label><input type="radio" name="q2" value="3" onclick="scrollToNext(this.closest('.question'))"> Often</label>
  <label><input type="radio" name="q2" value="4" onclick="scrollToNext(this.closest('.question'))"> Always</label>
</div>

<!-- Q3 -->
<div class="question" id="q3-div">
  <h3>
    3. Do you mix up the order of letters when reading or writing (like reading "form" instead of "from")?
    <span class="speaker" onclick="speak('Do you mix up the order of letters when reading or writing, like reading form instead of from? Option 1 Never, Option 2 Sometimes, Option 3 Often, Option 4 Always')">ðŸ”Š</span>
  </h3>
  <label><input type="radio" name="q3" value="1" onclick="scrollToNext(this.closest('.question'))"> Never</label>
  <label><input type="radio" name="q3" value="2" onclick="scrollToNext(this.closest('.question'))"> Sometimes</label>
  <label><input type="radio" name="q3" value="3" onclick="scrollToNext(this.closest('.question'))"> Often</label>
  <label><input type="radio" name="q3" value="4" onclick="scrollToNext(this.closest('.question'))"> Always</label>
</div>

<!-- Q4 -->
<div class="question" id="q4-div">
  <h3>
    4. Do you need to read text multiple times to understand it?
    <span class="speaker" onclick="speak('Do you need to read text multiple times to understand it? Option 1 Never, Option 2 Sometimes, Option 3 Often, Option 4 Always')">ðŸ”Š</span>
  </h3>
  <label><input type="radio" name="q4" value="1" onclick="scrollToNext(this.closest('.question'))"> Never</label>
  <label><input type="radio" name="q4" value="2" onclick="scrollToNext(this.closest('.question'))"> Sometimes</label>
  <label><input type="radio" name="q4" value="3" onclick="scrollToNext(this.closest('.question'))"> Often</label>
  <label><input type="radio" name="q4" value="4" onclick="scrollToNext(this.closest('.question'))"> Always</label>
</div>

<!-- Q5 -->
<div class="question" id="q5-div">
  <h3>
    5. Do you confuse similar-looking letters (like b/d, p/q)?
    <span class="speaker" onclick="speak('Do you confuse similar-looking letters, like b and d or p and q? Option 1 Never, Option 2 Sometimes, Option 3 Often, Option 4 Always')">ðŸ”Š</span>
  </h3>
  <label><input type="radio" name="q5" value="1" onclick="scrollToNext(this.closest('.question'))"> Never</label>
  <label><input type="radio" name="q5" value="2" onclick="scrollToNext(this.closest('.question'))"> Sometimes</label>
  <label><input type="radio" name="q5" value="3" onclick="scrollToNext(this.closest('.question'))"> Often</label>
  <label><input type="radio" name="q5" value="4" onclick="scrollToNext(this.closest('.question'))"> Always</label>
</div>

<!-- Q6 -->
<div class="question" id="q6-div">
  <h3>
    6. Do words sometimes appear to move or blur on the page?
    <span class="speaker" onclick="speak('Do words sometimes appear to move or blur on the page? Option 1 Never, Option 2 Sometimes, Option 3 Often, Option 4 Always')">ðŸ”Š</span>
  </h3>
  <label><input type="radio" name="q6" value="1" onclick="scrollToNext(this.closest('.question'))"> Never</label>
  <label><input type="radio" name="q6" value="2" onclick="scrollToNext(this.closest('.question'))"> Sometimes</label>
  <label><input type="radio" name="q6" value="3" onclick="scrollToNext(this.closest('.question'))"> Often</label>
  <label><input type="radio" name="q6" value="4" onclick="scrollToNext(this.closest('.question'))"> Always</label>
</div>

<!-- Q7 -->
<div class="question" id="q7-div">
  <h3>
    7. Do you struggle to remember what you've just read, even after reading it carefully?
    <span class="speaker" onclick="speak('Do you struggle to remember what you have just read, even after reading it carefully? Option 1 Never, Option 2 Sometimes, Option 3 Often, Option 4 Always')">ðŸ”Š</span>
  </h3>
  <label><input type="radio" name="q7" value="1" onclick="scrollToNext(this.closest('.question'))"> Never</label>
  <label><input type="radio" name="q7" value="2" onclick="scrollToNext(this.closest('.question'))"> Sometimes</label>
  <label><input type="radio" name="q7" value="3" onclick="scrollToNext(this.closest('.question'))"> Often</label>
  <label><input type="radio" name="q7" value="4" onclick="scrollToNext(this.closest('.question'))"> Always</label>
</div>

<!-- Submit -->


    <button type="submit">Submit Quiz</button>
  </form>

 
   <script>
  document.querySelector("form").addEventListener("submit", function (e) {
    e.preventDefault();

    // Validate all questions are answered
    for (let i = 1; i <= 7; i++) {
      if (!document.querySelector(`input[name=q${i}]:checked`)) {
        alert(`Please answer question ${i}.`);
        document.getElementById(`q${i}-div`).scrollIntoView({ behavior: "smooth" });
        return;
      }
    }

    const categoryMap = {
      q1: "visualTracking",
      q2: "phonological",
      q3: "sequencing",
      q4: "comprehension",
      q5: "visualProcessing",
      q6: "visualProcessing",
      q7: "workingMemory",
    };

    const scores = {
      visualTracking: 0,
      phonological: 0,
      sequencing: 0,
      comprehension: 0,
      visualProcessing: 0,
      workingMemory: 0,
    };

    for (let q in categoryMap) {
      const val = parseInt(document.querySelector(`input[name=${q}]:checked`).value);
      scores[categoryMap[q]] += val;
    }

    const results = [];

    if (scores.visualProcessing >= 6)
      results.push("âš™ï¸ Try using color overlays or high-contrast fonts.");
    if (scores.phonological >= 3)
      results.push("ðŸ”Š Use phonics-based exercises and text-to-speech tools.");
    if (scores.visualTracking >= 3)
      results.push("ðŸ“– Use tools to highlight reading lines.");
    if (scores.comprehension >= 3)
      results.push("ðŸ§© Try simplified summaries or assisted reading.");
    if (scores.sequencing >= 3)
      results.push("ðŸ”¡ Letter-sequencing games may help.");
    if (scores.workingMemory >= 3)
      results.push("ðŸ§  Use visual cues and repetition aids.");

    localStorage.setItem("dyslexiaResults", JSON.stringify(results));

    alert("ðŸ“Š Your personalized support recommendations:\n\n" + results.join("\n"));
    window.location.href = "reading-test.html"; // Move to next page
  });
</script>


  

</body>
</html>
